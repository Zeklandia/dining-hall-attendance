<link rel="import" href="../bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="../bower_components/core-animated-pages/transitions/hero-transition.html">
<link rel="import" href="../bower_components/core-animated-pages/transitions/cross-fade.html">
<link rel="import" href="../bower_components/core-animated-pages/transitions/slide-down.html">
<link rel="import" href="../bower_components/core-animated-pages/transitions/slide-up.html">
<link rel="import" href="../bower_components/core-animated-pages/transitions/tile-cascade.html">

<polymer-element name="nested-demo">

  <template>
    <style>
      core-animated-pages {
        display: block;
        position: absolute;
        top: 0px;
        left: 0px;
        bottom: 0px;
        right: 0px;
      }
      section {
        text-align: center;
        padding-top: 250px;
      }
      .square {
        display: inline-block;
        margin: 8px;
        padding: 8px;
        width: 200px;
        height: 200px;
        color: rgb(255, 255, 255);
        background-color: orange;
      }
    </style>
    <core-animated-pages transitions="hero-transition cross-fade" selected="{{ page }}" selectedindex="0" notap id="core_animated_pages">
      <section id="section" on-tap="{{ transition }}" layout horizontal center-justified active>
        <div id="thing1" class="square" hero-id="thing" hero>thing 1</div>
        <div id="thing2" class="square" hero-id="thing" cross-fade>thing 2</div>
      </section>
      <nested-animated-pages id="nested_animated_pages" page="0" on-nested-back="{{ back }}"></nested-animated-pages>
    </core-animated-pages>
  </template>

  <script>

    Polymer({
      page: 0,
      subpage: 0,
      transition: function (e) {
        var el = e.target;
        if (el.id === "thing1") {
          this.subpage = 0;
        } else {
          this.subpage = 1;
        }
        setTimeout(function() {
          this.page = 1;
        }.bind(this), 200);
      },
      back: function () {
        this.page = 0;
      }
    });

  </script>

</polymer-element>
